# Scoring & Ranking Engine Tasks

- Core schema and migrations
  - Tables: `participant_predictions`, `market_results`, `contest_results`
  - Indexes for contest_id, user_id, symbol
- Nest modules and services
  - `ScoringModule` with `ScoringService` and `ScoringController`
  - Wire into `AppModule`
- Calculators (initial set)
  - Gap Up / Gap Down
  - Close Positive / Negative
  - Range Prediction (skeleton)
  - Percent Change Prediction (skeleton)
- Scoring strategies
  - exact_match
  - margin_based
- Ranking strategies
  - highest_score (default)
  - lowest_error (skeleton)
- Orchestration
  - Admin endpoint: POST `/admin/scoring/run` (JWT admin) { contestId, config }
  - Job hook: integrate with cron/Bull (future)
- Market data
  - Placeholder using `QuotesService`; extend to fetch required OHLC windows
- Next phases
  - Add DTOs and validation
  - Add full calculators and strategies as per doc
  - Persist `MarketResult` captures
  - Expose results via `/contests/:id/results` endpoint
  - Unit and e2e tests 